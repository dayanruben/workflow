<!DOCTYPE html><html lang="en" class="_1g8sw68"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/workflow/styles.2b7db4254d14d4538210.css">.hljs{color:#a9b7c6;background:#282b2e;display:block;overflow-x:auto;padding:2em}.hljs-bullet,.hljs-literal,.hljs-number,.hljs-symbol{color:#6897bb}.hljs-deletion,.hljs-keyword,.hljs-selector-tag{color:#cc7832}.hljs-link,.hljs-template-variable,.hljs-variable{color:#629755}.hljs-comment,.hljs-quote{color:grey}.hljs-meta{color:#bbb529}.hljs-addition,.hljs-attribute,.hljs-string{color:#6a8759}.hljs-section,.hljs-title,.hljs-type{color:#ffc66d}.hljs-name,.hljs-selector-class,.hljs-selector-id{color:#e8bf6a}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><meta name="generator" content="Gatsby 2.1.27"/><style id="aphrodite-styles">._1g8sw68{margin:0px !important;padding:0px !important;}._1s8peqk{font-family:Square Market,Helvetica,Arial,sans-serif !important;color:#3e4348 !important;line-height:1.6em !important;margin:0px !important;padding:0px !important;}._axg6ag{-webkit-box-align:stretch !important;-ms-flex-align:stretch !important;-webkit-box-direction:normal !important;-webkit-box-orient:vertical !important;display:-webkit-box !important;display:-moz-box !important;display:-ms-flexbox !important;display:-webkit-flex !important;display:flex !important;-webkit-flex-direction:column !important;-ms-flex-direction:column !important;flex-direction:column !important;min-height:100vh !important;-webkit-align-items:stretch !important;align-items:stretch !important;}._1kbnk0i{-webkit-box-flex:1 !important;-ms-flex-positive:1 !important;-webkit-flex-grow:1 !important;flex-grow:1 !important;}._1lsueon{background-color:#FFFFFF !important;margin-bottom:1.45rem !important;position:-webkit-sticky !important;position:sticky !important;top:0 !important;}._4a1dcm{-webkit-box-align:center !important;-ms-flex-align:center !important;-webkit-box-direction:normal !important;-webkit-box-orient:horizontal !important;margin:0 auto !important;max-width:1400px !important;padding:1.45rem 1.0875rem !important;display:-webkit-box !important;display:-moz-box !important;display:-ms-flexbox !important;display:-webkit-flex !important;display:flex !important;-webkit-flex-direction:row !important;-ms-flex-direction:row !important;flex-direction:row !important;-webkit-align-items:center !important;align-items:center !important;}._1g7mgxh{margin:0px !important;display:block !important;font-weight:medium !important;font-size:1.2em !important;letter-spacing:0.05em !important;}._1wpxgvt{text-decoration:none !important;color:#3e4348 !important;}._b0i5lg{display:block !important;margin-left:36px !important;}._hq5slr{font-weight:bold !important;}._4j1958{margin-bottom:1.45rem !important;}._ivj2ut{margin:0 auto !important;max-width:1400px !important;padding:1.45rem 1.0875rem !important;}._cdk683{display:grid !important;-ms-grid-template-columns:2fr 1fr !important;grid-template-columns:2fr 1fr !important;-ms-grid-column-gap:24px !important;grid-column-gap:24px !important;}._1kkhojp{min-width:0 !important;}._1yp3z0b{font-weight:bold !important;font-size:2em !important;margin-top:0 !important;margin-bottom:2em !important;}._1l6vmyr{border:none !important;background-color:#7a7e82 !important;height:1px !important;margin-top:36pt !important;margin-bottom:36pt !important;}._6p2awt{font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace !important;background-color:#eceef1 !important;padding-left:0.4em !important;padding-right:0.4em !important;padding-top:0.2em !important;padding-bottom:0.2em !important;font-size:0.8em !important;border-radius:3pt !important;}._1ao9lh3{font-weight:normal !important;font-size:1.4em !important;line-height:1.3em !important;margin-top:2em !important;margin-bottom:0.6em !important;color:#888 !important;}._1kdybgd{font-weight:normal !important;font-size:1.6em !important;line-height:1.5em !important;margin-top:2em !important;margin-bottom:0.8em !important;color:#888 !important;}._1jd8g23{margin-top:2em !important;margin-bottom:2em !important;}._1ncamcp{margin:0px !important;padding:0px !important;list-style:none !important;}._trfz4b{padding-top:8px !important;padding-bottom:8px !important;}._1dkuxb8{padding-top:24pt !important;display:block !important;}._w7c2ex{padding-left:8pt !important;margin-top:8pt !important;margin-bottom:8pt !important;border-left:4px solid #eceef1 !important;}._1lf0o05{background-color:#1b2126 !important;margin-bottom:0 !important;position:-webkit-sticky !important;position:sticky !important;top:0 !important;color:eceef1 !important;margin-top:96pt !important;}._1rotpg9{display:grid !important;-ms-grid-template-columns:repeat(3, 1fr); !important;grid-template-columns:repeat(3, 1fr); !important;-ms-grid-column-gap:24px !important;grid-column-gap:24px !important;padding-top:24pt !important;padding-bottom:48pt !important;}._1shcjp2{width:32pt !important;height:32pt !important;}._1uvd7e1{list-style:none !important;margin:0 !important;padding:0 !important;}</style><script id="aphrodite-ids">window.gatsbyAphrodite = ["_1g8sw68","_1s8peqk","_axg6ag","_1kbnk0i","_1lsueon","_4a1dcm","_1g7mgxh","_1wpxgvt","_b0i5lg","_hq5slr","_4j1958","_ivj2ut","_cdk683","_1kkhojp","_1yp3z0b","_1l6vmyr","_6p2awt","_1ao9lh3","_1kdybgd","_1jd8g23","_1ncamcp","_trfz4b","_1dkuxb8","_w7c2ex","_1lf0o05","_1rotpg9","_1shcjp2","_1uvd7e1"]</script><title data-react-helmet="true">Workflow</title><link data-react-helmet="true" rel="stylesheet" href="https://d1g145x70srn7h.cloudfront.net/fonts/sqmarket/sq-market.css"/><meta data-react-helmet="true" name="description" content="A reactive application architecture for Swift and Kotlin"/><meta data-react-helmet="true" name="keywords" content="workflow, kotlin, swift, reactive"/><style data-react-helmet="true" type="text/css">
            a {
              color: #49a4d5;
              text-decoration: none;
            }
            a:visited {
              color: #5174d1;
            }
            a:active, a:hover {
              text-decoration: underline;
            }
          </style><link rel="shortcut icon" href="/workflow/icons/icon-48x48.png"/><link rel="manifest" href="/workflow/manifest.webmanifest"/><meta name="theme-color" content="#663399"/><link rel="apple-touch-icon" sizes="48x48" href="/workflow/icons/icon-48x48.png"/><link rel="apple-touch-icon" sizes="72x72" href="/workflow/icons/icon-72x72.png"/><link rel="apple-touch-icon" sizes="96x96" href="/workflow/icons/icon-96x96.png"/><link rel="apple-touch-icon" sizes="144x144" href="/workflow/icons/icon-144x144.png"/><link rel="apple-touch-icon" sizes="192x192" href="/workflow/icons/icon-192x192.png"/><link rel="apple-touch-icon" sizes="256x256" href="/workflow/icons/icon-256x256.png"/><link rel="apple-touch-icon" sizes="384x384" href="/workflow/icons/icon-384x384.png"/><link rel="apple-touch-icon" sizes="512x512" href="/workflow/icons/icon-512x512.png"/><link as="script" rel="preload" href="/workflow/webpack-runtime-866b8a5689538e8e51bf.js"/><link as="script" rel="preload" href="/workflow/app-1a8acd5cfc4562cb40a9.js"/><link as="script" rel="preload" href="/workflow/styles-2c4787060c9adbd2b65b.js"/><link as="script" rel="preload" href="/workflow/0-2c5b9675939784053958.js"/><link as="script" rel="preload" href="/workflow/2-00fbebfd72addcc51587.js"/><link as="script" rel="preload" href="/workflow/10-e42dca32ba7058fec92b.js"/><link as="script" rel="preload" href="/workflow/component---src-components-markdown-page-js-ea2f3cc0689de6d4cb59.js"/><link as="fetch" rel="preload" href="/workflow/static/d/289/path---documentation-concepts-9-b-3-fe9-kCKUghTh1fFewjOHjStuBdQjA.json" crossorigin="use-credentials"/></head><body class="_1s8peqk"><noscript id="gatsby-noscript">This app works best with JavaScript enabled.</noscript><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group"><div class="_axg6ag"><div class="_1lsueon"><div class="_4a1dcm"><h1 class="_1g7mgxh"><a class="_1wpxgvt" href="/workflow/">Workflow</a></h1><span class="_b0i5lg"><a class="_hq5slr" href="/workflow/documentation">Documentation</a></span></div></div><div class="_1kbnk0i"><div class="_4j1958"><div class="_ivj2ut"><div class="_cdk683"><div class="_1kkhojp"><div><div><h1 class="_1yp3z0b">Concepts</h1>
<p>Workflows provide a way to build complex applications out of small, isolated pieces with a predictable data flow and a consistent API contract. They are conceptually similar to components in architecture patterns such as React (though they are fully native and type-safe).</p>
<hr class="_1l6vmyr"/>
<p><em><strong>Note:</strong> One important difference between workflows and components found in web frontend frameworks comes from the vast differences between the DOM and native UI paradigms (iOS/Android). The DOM is already declarative (meaning that we can always reason about the element tree in a web page). UIKit, for is not â€“ it very much relies on a procedural programming model where transitions are performed by imperative methods like <code class="_6p2awt">push</code>, <code class="_6p2awt">fadeOut</code>, etc. For this reason, workflows do not ever refer directly to views. They are instead responsible for rendering view models. This view model can then be used to update the UI.</em></p>
<hr class="_1l6vmyr"/>
<h3 class="_1ao9lh3">Workflow is cross-platform</h3>
<p>While specific APIs differ between Swift and Kotlin, the Workflow library shares all of the same conceptual pieces on both platforms. This is extremely beneficial when building cross-platform software, as the same design (though not the same code) can be used for both Swift and Kotlin. Build a feature on one platform first? That code now serves as an excellent reference when implementing the same functionality on the other platform.</p>
<h2 class="_1kdybgd">The Role of a Workflow</h2>
<p><code class="_6p2awt">Workflow</code> is a protocol (in Swift) and interface (in Kotlin) that defines the contract for a single node in the workflow hierarchy.</p>
<pre><div class="_1jd8g23"><pre style="font-family:Consolas, Menlo, Monaco, &quot;Andale Mono WT&quot;, &quot;Andale Mono&quot;, &quot;Lucida Console&quot;, &quot;Lucida Sans Typewriter&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;Nimbus Mono L&quot;, &quot;Courier New&quot;, Courier, monospace;font-size:14px;line-height:1.375;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;background:#24242e;color:#767693;padding:1em;margin:.5em 0;overflow:auto"><code style="font-family:Consolas, Menlo, Monaco, &quot;Andale Mono WT&quot;, &quot;Andale Mono&quot;, &quot;Lucida Console&quot;, &quot;Lucida Sans Typewriter&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;Nimbus Mono L&quot;, &quot;Courier New&quot;, Courier, monospace;font-size:14px;line-height:1.375;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;background:#24242e;color:#767693"><span class="token" style="color:#fe8c52">public</span> <span class="token" style="color:#fe8c52">protocol</span> <span class="token,builtin">Workflow</span><span class="token" style="color:#5b5b76">:</span> <span class="token,builtin">AnyWorkflowConvertible</span> <span class="token" style="color:#5b5b76">{</span>

    associatedtype <span class="token,builtin">State</span>

    associatedtype <span class="token,builtin">Output</span> <span class="token" style="color:#dd672c">=</span> <span class="token,builtin">Never</span>

    associatedtype <span class="token,builtin">Rendering</span>

    <span class="token" style="color:#fe8c52">func</span> <span class="token" style="color:#767693">makeInitialState</span><span class="token" style="color:#5b5b76">(</span><span class="token" style="color:#5b5b76">)</span> <span class="token" style="color:#dd672c">-</span><span class="token" style="color:#dd672c">&gt;</span> <span class="token,builtin">State</span>

    <span class="token" style="color:#fe8c52">func</span> <span class="token" style="color:#767693">workflowDidChange</span><span class="token" style="color:#5b5b76">(</span>from previousWorkflow<span class="token" style="color:#5b5b76">:</span> <span class="token" style="color:#fe8c52">Self</span><span class="token" style="color:#5b5b76">,</span> state<span class="token" style="color:#5b5b76">:</span> <span class="token" style="color:#fe8c52">inout</span> <span class="token,builtin">State</span><span class="token" style="color:#5b5b76">)</span>

    <span class="token" style="color:#fe8c52">func</span> <span class="token" style="color:#767693">compose</span><span class="token" style="color:#5b5b76">(</span>state<span class="token" style="color:#5b5b76">:</span> <span class="token,builtin">State</span><span class="token" style="color:#5b5b76">,</span> context<span class="token" style="color:#5b5b76">:</span> <span class="token,builtin">WorkflowContext</span><span class="token" style="color:#dd672c">&lt;</span><span class="token" style="color:#fe8c52">Self</span><span class="token" style="color:#dd672c">&gt;</span><span class="token" style="color:#5b5b76">)</span> <span class="token" style="color:#dd672c">-</span><span class="token" style="color:#dd672c">&gt;</span> <span class="token,builtin">Rendering</span>

<span class="token" style="color:#5b5b76">}</span>
</code></pre></div></pre>
<pre><div class="_1jd8g23"><pre style="font-family:Consolas, Menlo, Monaco, &quot;Andale Mono WT&quot;, &quot;Andale Mono&quot;, &quot;Lucida Console&quot;, &quot;Lucida Sans Typewriter&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;Nimbus Mono L&quot;, &quot;Courier New&quot;, Courier, monospace;font-size:14px;line-height:1.375;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;background:#24242e;color:#767693;padding:1em;margin:.5em 0;overflow:auto"><code style="font-family:Consolas, Menlo, Monaco, &quot;Andale Mono WT&quot;, &quot;Andale Mono&quot;, &quot;Lucida Console&quot;, &quot;Lucida Sans Typewriter&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;Nimbus Mono L&quot;, &quot;Courier New&quot;, Courier, monospace;font-size:14px;line-height:1.375;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;background:#24242e;color:#767693"><span class="token" style="color:#fe8c52">interface</span> Workflow<span class="token" style="color:#dd672c">&lt;</span><span class="token" style="color:#fe8c52">in</span> I <span class="token" style="color:#dd672c">:</span> Any<span class="token" style="color:#5b5b76">,</span> S <span class="token" style="color:#dd672c">:</span> Any<span class="token" style="color:#5b5b76">,</span> <span class="token" style="color:#fe8c52">out</span> O <span class="token" style="color:#dd672c">:</span> Any<span class="token" style="color:#5b5b76">,</span> <span class="token" style="color:#fe8c52">out</span> R <span class="token" style="color:#dd672c">:</span> Any<span class="token" style="color:#dd672c">&gt;</span> <span class="token" style="color:#5b5b76">{</span>

  <span class="token" style="color:#fe8c52">fun</span> <span class="token" style="color:#767693">initialState</span><span class="token" style="color:#5b5b76">(</span>input<span class="token" style="color:#dd672c">:</span> I<span class="token" style="color:#5b5b76">)</span><span class="token" style="color:#dd672c">:</span> S

  <span class="token" style="color:#fe8c52">fun</span> <span class="token" style="color:#767693">onInputChanged</span><span class="token" style="color:#5b5b76">(</span>
    old<span class="token" style="color:#dd672c">:</span> I<span class="token" style="color:#5b5b76">,</span>
    new<span class="token" style="color:#dd672c">:</span> I<span class="token" style="color:#5b5b76">,</span>
    state<span class="token" style="color:#dd672c">:</span> S
  <span class="token" style="color:#5b5b76">)</span><span class="token" style="color:#dd672c">:</span> S <span class="token" style="color:#dd672c">=</span> state

  <span class="token" style="color:#fe8c52">fun</span> <span class="token" style="color:#767693">compose</span><span class="token" style="color:#5b5b76">(</span>
    input<span class="token" style="color:#dd672c">:</span> I<span class="token" style="color:#5b5b76">,</span>
    state<span class="token" style="color:#dd672c">:</span> S<span class="token" style="color:#5b5b76">,</span>
    context<span class="token" style="color:#dd672c">:</span> WorkflowContext<span class="token" style="color:#dd672c">&lt;</span>S<span class="token" style="color:#5b5b76">,</span> O<span class="token" style="color:#dd672c">&gt;</span>
  <span class="token" style="color:#5b5b76">)</span><span class="token" style="color:#dd672c">:</span> R

  <span class="token" style="color:#fe8c52">fun</span> <span class="token" style="color:#767693">snapshotState</span><span class="token" style="color:#5b5b76">(</span>state<span class="token" style="color:#dd672c">:</span> S<span class="token" style="color:#5b5b76">)</span><span class="token" style="color:#dd672c">:</span> Snapshot
  <span class="token" style="color:#fe8c52">fun</span> <span class="token" style="color:#767693">restoreState</span><span class="token" style="color:#5b5b76">(</span>snapshot<span class="token" style="color:#dd672c">:</span> Snapshot<span class="token" style="color:#5b5b76">)</span><span class="token" style="color:#dd672c">:</span> S

<span class="token" style="color:#5b5b76">}</span>
</code></pre></div></pre>
<p>Workflows have several responsibilities:</p>
<h3 class="_1ao9lh3">Workflows have state</h3>
<p>Every Workflow implementation defines a <code class="_6p2awt">State</code> type to maintain any necessary state while the workflow is running.</p>
<p>For example, a tic-tac-toe game might have a state like this:</p>
<pre><div class="_1jd8g23"><pre style="font-family:Consolas, Menlo, Monaco, &quot;Andale Mono WT&quot;, &quot;Andale Mono&quot;, &quot;Lucida Console&quot;, &quot;Lucida Sans Typewriter&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;Nimbus Mono L&quot;, &quot;Courier New&quot;, Courier, monospace;font-size:14px;line-height:1.375;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;background:#24242e;color:#767693;padding:1em;margin:.5em 0;overflow:auto"><code style="font-family:Consolas, Menlo, Monaco, &quot;Andale Mono WT&quot;, &quot;Andale Mono&quot;, &quot;Lucida Console&quot;, &quot;Lucida Sans Typewriter&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;Nimbus Mono L&quot;, &quot;Courier New&quot;, Courier, monospace;font-size:14px;line-height:1.375;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;background:#24242e;color:#767693"><span class="token" style="color:#fe8c52">struct</span> <span class="token,builtin">State</span> <span class="token" style="color:#5b5b76">{</span>

    <span class="token" style="color:#fe8c52">enum</span> <span class="token,builtin">Player</span> <span class="token" style="color:#5b5b76">{</span>
        <span class="token" style="color:#fe8c52">case</span> x
        <span class="token" style="color:#fe8c52">case</span> o
    <span class="token" style="color:#5b5b76">}</span>

    <span class="token" style="color:#fe8c52">enum</span> <span class="token,builtin">Space</span> <span class="token" style="color:#5b5b76">{</span>
        <span class="token" style="color:#fe8c52">case</span> unfilled
        <span class="token" style="color:#767693">filled</span><span class="token" style="color:#5b5b76">(</span><span class="token,builtin">Player</span><span class="token" style="color:#5b5b76">)</span>
    <span class="token" style="color:#5b5b76">}</span>

    <span class="token" style="color:#5b5b76">// 3 rows * 3 columns = 9 spaces</span>
    <span class="token" style="color:#fe8c52">var</span> spaces<span class="token" style="color:#5b5b76">:</span> <span class="token" style="color:#5b5b76">[</span><span class="token,builtin">Space</span><span class="token" style="color:#5b5b76">]</span> <span class="token" style="color:#dd672c">=</span> <span class="token" style="color:#767693">Array</span><span class="token" style="color:#5b5b76">(</span>repeating<span class="token" style="color:#5b5b76">:</span> <span class="token" style="color:#5b5b76">.</span>unfilled<span class="token" style="color:#5b5b76">,</span> <span class="token,builtin">count</span><span class="token" style="color:#5b5b76">:</span> <span class="token" style="color:#dd672c">9</span><span class="token" style="color:#5b5b76">)</span>
    <span class="token" style="color:#fe8c52">var</span> currentTurn<span class="token" style="color:#5b5b76">:</span> <span class="token,builtin">Player</span> <span class="token" style="color:#dd672c">=</span> <span class="token" style="color:#5b5b76">.</span>x
<span class="token" style="color:#5b5b76">}</span>
</code></pre></div></pre>
<p>When the workflow is first started, it is queried for an initial state value. From that point forward, the workflow may advance to a new state as the result of events occurring from various sources (which will be covered below).</p>
<h3 class="_1ao9lh3">Workflows produce an external representation of their state via <code class="_6p2awt">Rendering</code></h3>
<p>Immediately after starting up, or after a state transition occurs, a workflow will have its <code class="_6p2awt">compose(state:context:)</code> method called. This method is responsible for creating and returning a value of type <code class="_6p2awt">Rendering</code>. You can think of <code class="_6p2awt">Rendering</code> as the &quot;external state&quot; of the workflow. While a workflow&#x27;s internal state may contain more detailed or comprehensive state, the <code class="_6p2awt">Rendering</code> (external state) is a type that is useful outside of the workflow.</p>
<p>When building an interactive application, the <code class="_6p2awt">Rendering</code> type is commonly (but not always) a view model that will drive the UI layer.</p>
<h3 class="_1ao9lh3">Workflows form a hierarchy (they may have children)</h3>
<p>As they produce a <code class="_6p2awt">Rendering</code> value, it is common for workflows to delegate some portion of that work to a <em>child workflow</em>. This is also done via the <code class="_6p2awt">ComponentContext</code> that is passed into the <code class="_6p2awt">compose</code> method. In order to delegate to a child, the parent workflow instantiates the child within the <code class="_6p2awt">compose</code> method. The parent then calls <code class="_6p2awt">compose</code> on the context, with the child workflow as the single argument. The infrastructure will spin up the child workflow (including initializing its initial state) if this is the first time this child has been used, or, if the child was also used on the previous <code class="_6p2awt">compose</code> pass, the existing child will be updated. Either way, <code class="_6p2awt">compose</code> will ultimately be called on the child (by the Workflow infrastructure), and the resulting <code class="_6p2awt">Child.Rendering</code> value will be returned to the parent.</p>
<p>This allows a parent to return complex <code class="_6p2awt">Rendering</code> types (such as a view model representing the entire UI state of an application) without needing to model all of that complexity within a single workflow.</p>
<h3 class="_1ao9lh3">Workflows can respond to UI events</h3>
<p>The <code class="_6p2awt">WorkflowContext</code> that is passed into <code class="_6p2awt">compose</code> as the second parameter provides some useful tools to assist in creating the <code class="_6p2awt">Rendering</code> value. </p>
<p>If a workflow is producing a view model, it is common to need an event handler to respond to UI events. The <code class="_6p2awt">WorkflowContext</code> has API to create an event handler that, when called, will advance the workflow by dispatching an action back to the workflow.</p>
<h3 class="_1ao9lh3">Workflows can subscribe to external event sources</h3>
<p>If a workflow needs to respond to some external event source (e.g. push notifications), the workflow can ask the context to listen to those events from within the <code class="_6p2awt">compose</code> method.</p>
<h3 class="_1ao9lh3">Workflows can perform asynchronous tasks (Workers)</h3>
<p><code class="_6p2awt">Workers</code> are very similar in concept to child workflows. Unlike child workflows, however, workers do not have a <code class="_6p2awt">Rendering</code> type; they only exist to perform a single asynchronous task before sending an output event back up the tree to their parent.</p>
<p>A workflow can ask the infrastructure to await the result of a worker by handing that worker to the context within a call to the <code class="_6p2awt">compose</code> method.</p>
<h3 class="_1ao9lh3">Workflows are advanced by <code class="_6p2awt">Action</code>s</h3>
<p>Any time something happens that should advance a workflow â€“ a UI event, a network response, a child&#x27;s output event â€“ actions are used to perform the update. For example, a workflow may respond to UI events by mapping those events into a type conforming to <code class="_6p2awt">WorkflowAction</code>. These types implement the logic to advance a workflow by:</p>
<ul>
<li>Advancing to a new state</li>
<li>(Optionally) emitting an output event up the tree.</li>
</ul>
<h3 class="_1ao9lh3">Workflows can emit output events up the hierarchy to their parent</h3>
<p>When a workflow is advanced by an action, an optional output event can be sent up the workflow hierarchy. This is the opportunity for a workflow to notify its parent that something has happened (and the parent&#x27;s opportunity to respond to that event by dispatching its own action, continuing up the tree as long as output events are emitted).</p></div></div></div><div class="_1kkhojp"><ul class="_1ncamcp"><li class="_trfz4b"><a class="" href="/workflow/documentation/">Workflow Documentation</a></li><li class="_trfz4b"><a aria-current="page" class="_hq5slr" href="/workflow/documentation/concepts/">Concepts</a></li><li class="_trfz4b"><a class="" href="/workflow/documentation/swift/">Swift</a><div class="_w7c2ex"><ul class="_1ncamcp"><li class="_trfz4b"><a class="" href="/workflow/documentation/swift/adding-workflow-to-a-project/">Adding Workflow to a project</a></li><li class="_trfz4b"><a class="" href="/workflow/documentation/swift/tooling/">Tooling</a></li><li class="_trfz4b"><a class="" href="/workflow/documentation/swift/building-a-workflow/">Building a Workflow</a></li><li class="_trfz4b"><a class="" href="/workflow/documentation/swift/building-a-view-controller-from-screen/">Building a View Controller from a Screen</a></li><li class="_trfz4b"><a class="" href="/workflow/documentation/swift/using-a-workflow-for-ui/">Using a Workflow to Show UI</a></li></ul></div></li><li class="_trfz4b"><a class="" href="/workflow/documentation/kotlin/">Kotlin</a></li><li class="_trfz4b"><a class="" href="/workflow/documentation/faq/">FAQ</a></li></ul></div></div></div></div></div><div class="_1lf0o05"><div class="_ivj2ut"><div class="_1rotpg9"><div><img src="data:image/png;base64,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" alt="logo" class="_1shcjp2"/></div><div><ul class="_1uvd7e1"><li>Â© 2019 Square, Inc.</li></ul></div><div><ul class="_1uvd7e1"><li>David Apgar</li><li>Tim Donnelly</li><li>Zach Klippenstein</li><li>Ray Ryan</li></ul></div></div></div></div></div></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.page={"componentChunkName":"component---src-components-markdown-page-js","jsonName":"documentation-concepts-9b3","path":"/documentation/concepts/"};window.dataPath="289/path---documentation-concepts-9-b-3-fe9-kCKUghTh1fFewjOHjStuBdQjA";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-1a8acd5cfc4562cb40a9.js"],"component---node-modules-gatsby-plugin-offline-app-shell-js":["/component---node-modules-gatsby-plugin-offline-app-shell-js-0c7151f923911d284eee.js"],"component---src-components-markdown-page-js":["/component---src-components-markdown-page-js-ea2f3cc0689de6d4cb59.js"],"component---src-pages-404-js":["/component---src-pages-404-js-94baa3a44bcaba415a91.js"],"component---src-pages-index-js":["/component---src-pages-index-js-80d35d0a0ed267cca176.js"],"pages-manifest":["/pages-manifest-f6720968b0395d8b57e1.js"]};/*]]>*/</script><script src="/workflow/component---src-components-markdown-page-js-ea2f3cc0689de6d4cb59.js" async=""></script><script src="/workflow/10-e42dca32ba7058fec92b.js" async=""></script><script src="/workflow/2-00fbebfd72addcc51587.js" async=""></script><script src="/workflow/0-2c5b9675939784053958.js" async=""></script><script src="/workflow/styles-2c4787060c9adbd2b65b.js" async=""></script><script src="/workflow/app-1a8acd5cfc4562cb40a9.js" async=""></script><script src="/workflow/webpack-runtime-866b8a5689538e8e51bf.js" async=""></script></body></html>