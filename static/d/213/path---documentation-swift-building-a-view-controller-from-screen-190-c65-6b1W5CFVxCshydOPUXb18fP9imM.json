{"data":{"markdownRemark":{"htmlAst":{"type":"root","children":[{"type":"element","tagName":"h1","properties":{},"children":[{"type":"text","value":"Building a View Controller from a Screen"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Now that we have a workflow, we need a way to map our screen to an actual view controller."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"ScreenViewController"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"ScreenViewController"}]},{"type":"text","value":" provides a baseclass the hides the plumbing of updating a view controller from a view model update."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-swift"]},"children":[{"type":"text","value":"struct DemoScreen: Screen {\n    let title: String\n    let onTap: () -> Void\n}\n\n\nclass DemoScreenViewController: ScreenViewController<SimpleScreen> {\n\n    private let button: UIButton\n\n    required init(screen: SimpleScreen, viewRegistry: ViewRegistry) {\n        button = UIButton()\n        super.init(screen: screen, viewRegistry: viewRegistry)\n\n        update(screen: screen)\n    }\n\n    override func viewDidLoad() {\n        super.viewDidLoad()\n\n        button.addTarget(self, action: #selector(buttonPressed(sender:)), for: .touchUpInside)\n\n        view.addSubview(button)\n    }\n\n    override func viewWillLayoutSubviews() {\n        super.viewWillLayoutSubviews()\n\n        button.frame = view.bounds\n    }\n\n    override func screenDidChange(from previousScreen: SimpleScreen) {\n        super.screenDidChange(from: previousScreen)\n        update(screen: screen)\n    }\n\n    private func update(screen: SimpleScreen) {\n        button.setTitle(screen.title, for: .normal)\n    }\n\n    @objc private func buttonPressed(sender: UIButton) {\n        screen.onTap()\n    }\n\n}\n"}]}]}],"data":{"quirksMode":false}},"frontmatter":{"navigation":{"visible":true,"path":"documentation"},"title":"Building a View Controller from a Screen"}}},"pageContext":{"title":"Building a View Controller from a Screen","index":5,"slug":"/documentation/swift/building-a-view-controller-from-screen/"}}